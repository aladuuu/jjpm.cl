"use strict";(function(){var
userAgent=navigator.userAgent.toLowerCase(),initialDate=new Date(),$document=$(document),$window=$(window),$html=$("html"),$body=$("body"),isDesktop=$html.hasClass("desktop"),isIE=userAgent.indexOf("msie")!==-1?parseInt(userAgent.split("msie")[1],10):userAgent.indexOf("trident")!==-1?11:userAgent.indexOf("edge")!==-1?12:false,isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),windowReady=false,isNoviBuilder=false,plugins={copyrightYear:$('.copyright-year'),preloader:$('.preloader'),rdMailForm:$('.rd-mailform'),rdInputLabel:$('.form-label'),regula:$('[data-constraints]'),wow:$('.wow'),maps:$('.google-map-container'),materialParallax:$('.parallax-container'),owl:$('.owl-carousel')};function isScrolledIntoView(elem){if(isNoviBuilder)return true;return elem.offset().top+elem.outerHeight()>=$window.scrollTop()&&elem.offset().top<=$window.scrollTop()+$window.height();}
function lazyInit(element,func){var scrollHandler=function(){if((!element.hasClass('lazy-loaded')&&(isScrolledIntoView(element)))){func.call();element.addClass('lazy-loaded');}};scrollHandler();$window.on('scroll',scrollHandler);}
$window.on('load',function(){if(plugins.preloader.length&&!isNoviBuilder){pageTransition({target:document.querySelector('.page'),delay:0,duration:500,classIn:'fadeIn',classOut:'fadeOut',classActive:'animated',conditions:function(event,link){return link&&!/(\#|javascript:void\(0\)|callto:|tel:|mailto:|:\/\/)/.test(link)&&!event.currentTarget.hasAttribute('data-lightgallery');},onTransitionStart:function(options){setTimeout(function(){plugins.preloader.removeClass('loaded');},options.duration*.75);},onReady:function(){plugins.preloader.addClass('loaded');windowReady=true;}});}
if(plugins.materialParallax.length){if(!isNoviBuilder&&!isIE&&!isMobile){plugins.materialParallax.parallax();}else{for(var i=0;i<plugins.materialParallax.length;i++){var $parallax=$(plugins.materialParallax[i]);$parallax.addClass('parallax-disabled');$parallax.css({"background-image":'url('+$parallax.data("parallax-img")+')'});}}}});$(function(){isNoviBuilder=window.xMode;function initOwlCarousel(carousel){var
aliaces=['-','-sm-','-md-','-lg-','-xl-','-xxl-'],values=[0,480,768,992,1200,1600],responsive={};for(var j=0;j<values.length;j++){responsive[values[j]]={};for(var k=j;k>=-1;k--){if(!responsive[values[j]]['items']&&carousel.attr('data'+aliaces[k]+'items')){responsive[values[j]]['items']=k<0?1:parseInt(carousel.attr('data'+aliaces[k]+'items'),10);}
if(!responsive[values[j]]['stagePadding']&&responsive[values[j]]['stagePadding']!==0&&carousel.attr('data'+aliaces[k]+'stage-padding')){responsive[values[j]]['stagePadding']=k<0?0:parseInt(carousel.attr('data'+aliaces[k]+'stage-padding'),10);}
if(!responsive[values[j]]['margin']&&responsive[values[j]]['margin']!==0&&carousel.attr('data'+aliaces[k]+'margin')){responsive[values[j]]['margin']=k<0?30:parseInt(carousel.attr('data'+aliaces[k]+'margin'),10);}}}
if(carousel.attr('data-dots-custom')){carousel.on('initialized.owl.carousel',function(event){var
carousel=$(event.currentTarget),customPag=$(carousel.attr('data-dots-custom')),active=0;if(carousel.attr('data-active')){active=parseInt(carousel.attr('data-active'),10);}
carousel.trigger('to.owl.carousel',[active,300,true]);customPag.find('[data-owl-item="'+active+'"]').addClass('active');customPag.find('[data-owl-item]').on('click',function(event){event.preventDefault();carousel.trigger('to.owl.carousel',[parseInt(this.getAttribute('data-owl-item'),10),300,true]);});carousel.on('translate.owl.carousel',function(event){customPag.find('.active').removeClass('active');customPag.find('[data-owl-item="'+event.item.index+'"]').addClass('active')});});}
carousel.owlCarousel({autoplay:isNoviBuilder?false:carousel.attr('data-autoplay')!=='false',autoplayTimeout:carousel.attr("data-autoplay")?Number(carousel.attr("data-autoplay")):3000,autoplayHoverPause:true,loop:isNoviBuilder?false:carousel.attr('data-loop')!=='false',items:1,center:carousel.attr('data-center')==='true',dotsContainer:carousel.attr('data-pagination-class')||false,navContainer:carousel.attr('data-navigation-class')||false,mouseDrag:isNoviBuilder?false:carousel.attr('data-mouse-drag')!=='false',nav:carousel.attr('data-nav')==='true',dots:carousel.attr('data-dots')==='true',dotsEach:carousel.attr('data-dots-each')?parseInt(carousel.attr('data-dots-each'),10):false,animateIn:carousel.attr('data-animation-in')?carousel.attr('data-animation-in'):false,animateOut:carousel.attr('data-animation-out')?carousel.attr('data-animation-out'):false,responsive:responsive,navText:carousel.attr('data-nav-text')?$.parseJSON(carousel.attr('data-nav-text')):[],navClass:carousel.attr('data-nav-class')?$.parseJSON(carousel.attr('data-nav-class')):['owl-prev','owl-next']});}
function attachFormValidator(elements){regula.custom({name:'PhoneNumber',defaultMessage:'Invalid phone number format',validator:function(){if(this.value==='')return true;else return /^(\+\d)?[0-9\-\(\) ]{5,}$/i.test(this.value);}});for(var i=0;i<elements.length;i++){var o=$(elements[i]),v;o.addClass("form-control-has-validation").after("<span class='form-validation'></span>");v=o.parent().find(".form-validation");if(v.is(":last-child"))o.addClass("form-control-last-child");}
elements.on('input change propertychange blur',function(e){var $this=$(this),results;if(e.type!=="blur")if(!$this.parent().hasClass("has-error"))return;if($this.parents('.rd-mailform').hasClass('success'))return;if((results=$this.regula('validate')).length){for(i=0;i<results.length;i++){$this.siblings(".form-validation").text(results[i].message).parent().addClass("has-error");}}else{$this.siblings(".form-validation").text("").parent().removeClass("has-error")}}).regula('bind');var regularConstraintsMessages=[{type:regula.Constraint.Required,newMessage:"The text field is required."},{type:regula.Constraint.Email,newMessage:"The email is not a valid email."},{type:regula.Constraint.Numeric,newMessage:"Only numbers are required"},{type:regula.Constraint.Selected,newMessage:"Please choose an option."}];for(var i=0;i<regularConstraintsMessages.length;i++){var regularConstraint=regularConstraintsMessages[i];regula.override({constraintType:regularConstraint.type,defaultMessage:regularConstraint.newMessage});}}
function isValidated(elements,captcha){var results,errors=0;if(elements.length){for(var j=0;j<elements.length;j++){var $input=$(elements[j]);if((results=$input.regula('validate')).length){for(k=0;k<results.length;k++){errors++;$input.siblings(".form-validation").text(results[k].message).parent().addClass("has-error");}}else{$input.siblings(".form-validation").text("").parent().removeClass("has-error")}}
if(captcha){if(captcha.length){return validateReCaptcha(captcha)&&errors===0}}
return errors===0;}
return true;}
function getLatLngObject(str,marker,map,callback){var coordinates={};try{coordinates=JSON.parse(str);callback(new google.maps.LatLng(coordinates.lat,coordinates.lng),marker,map)}catch(e){map.geocoder.geocode({'address':str},function(results,status){if(status===google.maps.GeocoderStatus.OK){var latitude=results[0].geometry.location.lat();var longitude=results[0].geometry.location.lng();callback(new google.maps.LatLng(parseFloat(latitude),parseFloat(longitude)),marker,map)}})}}
function initMaps(){var key;for(var i=0;i<plugins.maps.length;i++){if(plugins.maps[i].hasAttribute("data-key")){key=plugins.maps[i].getAttribute("data-key");break;}}
$.getScript('//maps.google.com/maps/api/js?'+(key?'key='+key+'&':'')+'sensor=false&libraries=geometry,places&v=quarterly',function(){var head=document.getElementsByTagName('head')[0],insertBefore=head.insertBefore;head.insertBefore=function(newElement,referenceElement){if(newElement.href&&newElement.href.indexOf('//fonts.googleapis.com/css?family=Roboto')!==-1||newElement.innerHTML.indexOf('gm-style')!==-1){return;}
insertBefore.call(head,newElement,referenceElement);};var geocoder=new google.maps.Geocoder;for(var i=0;i<plugins.maps.length;i++){var zoom=parseInt(plugins.maps[i].getAttribute("data-zoom"),10)||11;var styles=plugins.maps[i].hasAttribute('data-styles')?JSON.parse(plugins.maps[i].getAttribute("data-styles")):[];var center=plugins.maps[i].getAttribute("data-center")||"New York";var map=new google.maps.Map(plugins.maps[i].querySelectorAll(".google-map")[0],{zoom:zoom,styles:styles,scrollwheel:false,center:{lat:0,lng:0}});plugins.maps[i].map=map;plugins.maps[i].geocoder=geocoder;plugins.maps[i].keySupported=true;plugins.maps[i].google=google;getLatLngObject(center,null,plugins.maps[i],function(location,markerElement,mapElement){mapElement.map.setCenter(location);});var markerItems=plugins.maps[i].querySelectorAll(".google-map-markers li");if(markerItems.length){var markers=[];for(var j=0;j<markerItems.length;j++){var markerElement=markerItems[j];getLatLngObject(markerElement.getAttribute("data-location"),markerElement,plugins.maps[i],function(location,markerElement,mapElement){var icon=markerElement.getAttribute("data-icon")||mapElement.getAttribute("data-icon");var activeIcon=markerElement.getAttribute("data-icon-active")||mapElement.getAttribute("data-icon-active");var info=markerElement.getAttribute("data-description")||"";var infoWindow=new google.maps.InfoWindow({content:info});markerElement.infoWindow=infoWindow;var markerData={position:location,map:mapElement.map}
if(icon){markerData.icon=icon;}
var marker=new google.maps.Marker(markerData);markerElement.gmarker=marker;markers.push({markerElement:markerElement,infoWindow:infoWindow});marker.isActive=false;google.maps.event.addListener(infoWindow,'closeclick',(function(markerElement,mapElement){var markerIcon=null;markerElement.gmarker.isActive=false;markerIcon=markerElement.getAttribute("data-icon")||mapElement.getAttribute("data-icon");markerElement.gmarker.setIcon(markerIcon);}).bind(this,markerElement,mapElement));google.maps.event.addListener(marker,'click',(function(markerElement,mapElement){if(markerElement.infoWindow.getContent().length===0)return;var gMarker,currentMarker=markerElement.gmarker,currentInfoWindow;for(var k=0;k<markers.length;k++){var markerIcon;if(markers[k].markerElement===markerElement){currentInfoWindow=markers[k].infoWindow;}
gMarker=markers[k].markerElement.gmarker;if(gMarker.isActive&&markers[k].markerElement!==markerElement){gMarker.isActive=false;markerIcon=markers[k].markerElement.getAttribute("data-icon")||mapElement.getAttribute("data-icon")
gMarker.setIcon(markerIcon);markers[k].infoWindow.close();}}
currentMarker.isActive=!currentMarker.isActive;if(currentMarker.isActive){if(markerIcon=markerElement.getAttribute("data-icon-active")||mapElement.getAttribute("data-icon-active")){currentMarker.setIcon(markerIcon);}
currentInfoWindow.open(map,marker);}else{if(markerIcon=markerElement.getAttribute("data-icon")||mapElement.getAttribute("data-icon")){currentMarker.setIcon(markerIcon);}
currentInfoWindow.close();}}).bind(this,markerElement,mapElement))})}}}});}
if(navigator.platform.match(/(Mac)/i)){$html.addClass("mac-os");}
if(isIE){if(isIE===12)$html.addClass("ie-edge");if(isIE===11)$html.addClass("ie-11");if(isIE<10)$html.addClass("lt-ie-10");if(isIE<11)$html.addClass("ie-10");}
if(plugins.copyrightYear.length){plugins.copyrightYear.text(initialDate.getFullYear());}
if(isDesktop&&!isNoviBuilder){$().UItoTop({min:800,easingType:'easeOutQuad',containerClass:'toTop fa fa-chevron-up'});}
if(plugins.maps.length){lazyInit(plugins.maps,initMaps);}
if(plugins.owl.length){for(var i=0;i<plugins.owl.length;i++){var carousel=$(plugins.owl[i]);plugins.owl[i].owl=carousel;initOwlCarousel(carousel);}}
if($html.hasClass("wow-animation")&&plugins.wow.length&&!isNoviBuilder&&isDesktop){new WOW().init();}
if(plugins.rdInputLabel.length){plugins.rdInputLabel.RDInputLabel();}
if(plugins.regula.length){attachFormValidator(plugins.regula);}
if(plugins.rdMailForm.length){var i,j,k,msg={'MF000':'Successfully sent!','MF001':'Recipients are not set!','MF002':'Form will not work locally!','MF003':'Please, define email field in your form!','MF004':'Please, define type of your form!','MF254':'Something went wrong with PHPMailer!','MF255':'Aw, snap! Something went wrong.'};for(i=0;i<plugins.rdMailForm.length;i++){var $form=$(plugins.rdMailForm[i]),formHasCaptcha=false;$form.attr('novalidate','novalidate').ajaxForm({data:{"form-type":$form.attr("data-form-type")||"contact","counter":i},beforeSubmit:function(arr,$form,options){if(isNoviBuilder)
return;var form=$(plugins.rdMailForm[this.extraData.counter]),inputs=form.find("[data-constraints]"),output=$("#"+form.attr("data-form-output")),captcha=form.find('.recaptcha'),captchaFlag=true;output.removeClass("active error success");if(isValidated(inputs,captcha)){if(captcha.length){var captchaToken=captcha.find('.g-recaptcha-response').val(),captchaMsg={'CPT001':'Please, setup you "site key" and "secret key" of reCaptcha','CPT002':'Something wrong with google reCaptcha'};formHasCaptcha=true;$.ajax({method:"POST",url:"bat/reCaptcha.php",data:{'g-recaptcha-response':captchaToken},async:false}).done(function(responceCode){if(responceCode!=='CPT000'){if(output.hasClass("snackbars")){output.html('<p><span class="icon text-middle mdi mdi-check icon-xxs"></span><span>'+captchaMsg[responceCode]+'</span></p>')
setTimeout(function(){output.removeClass("active");},3500);captchaFlag=false;}else{output.html(captchaMsg[responceCode]);}
output.addClass("active");}});}
if(!captchaFlag){return false;}
form.addClass('form-in-process');if(output.hasClass("snackbars")){output.html('<p><span class="icon text-middle fa fa-circle-o-notch fa-spin icon-xxs"></span><span>Sending</span></p>');output.addClass("active");}}else{return false;}},error:function(result){if(isNoviBuilder)
return;var output=$("#"+$(plugins.rdMailForm[this.extraData.counter]).attr("data-form-output")),form=$(plugins.rdMailForm[this.extraData.counter]);output.text(msg[result]);form.removeClass('form-in-process');if(formHasCaptcha){grecaptcha.reset();}},success:function(result){if(isNoviBuilder)
return;var form=$(plugins.rdMailForm[this.extraData.counter]),output=$("#"+form.attr("data-form-output")),select=form.find('select');form.addClass('success').removeClass('form-in-process');if(formHasCaptcha){grecaptcha.reset();}
result=result.length===5?result:'MF255';output.text(msg[result]);if(result==="MF000"){if(output.hasClass("snackbars")){output.html('<p><span class="icon text-middle mdi mdi-check icon-xxs"></span><span>'+msg[result]+'</span></p>');}else{output.addClass("active success");}}else{if(output.hasClass("snackbars")){output.html(' <p class="snackbars-left"><span class="icon icon-xxs mdi mdi-alert-outline text-middle"></span><span>'+msg[result]+'</span></p>');}else{output.addClass("active error");}}
form.clearForm();if(select.length){select.select2("val","");}
form.find('input, textarea').trigger('blur');setTimeout(function(){output.removeClass("active error success");form.removeClass('success');},3500);}});}}});}());